<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Project development </title>
  <meta name="description" content="Goal of this final week is to document and build our final project">

  <link rel="stylesheet" href=" /css/main.css">
  <link rel="canonical" href=" /weeks/2015/06/03/class18.html">
  <link rel="alternate" type="application/rss+xml" title="Francesca Mereu" href=" /feed.xml" />
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href=" /">  <img src="/images/fotoblog.jpg" alt="mia foto" style="height:40px; margin-right:10px;"/>Francesca Mereu</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href=" /about/">About me</a>
          
        
          
          <a class="page-link" href=" /weeks/">Classes</a>
          
        
          
        
          
          <a class="page-link" href=" /project/">Final project</a>
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header"> 
 
    <h1 class="post-title">Project development </h1>
    <p class="post-meta">Jun 3, 2015</p>
  </header>

  <article class="post-content">
    <p>Goal of this final week is to document and build our final project</p>

<h2 id="project-result">Project result</h2>
<p>For the final project presentation I managed to build a basic version of “Esole” with the following specifications:</p>

<ul>
  <li>silicon insole <br /></li>
  <li>custom pressure textile sensor <br /></li>
  <li>pressure board <br /></li>
  <li>sole case(shoes) with module for the board <br /></li>
  <li>serial connections</li>
  <li>web interface <br /></li>
  <li>Basic Python API for controlling the above   <br /></li>
</ul>

<p>The second version will have next addeds:</p>

<ul>
  <li>bluetooth module hc 05 <br /></li>
  <li>battery holder <br /></li>
  <li>flexible sole case <br /></li>
</ul>

<h2 id="architecture">Architecture</h2>
<p>The current prototype has the following architecture</p>

<p><img src="/images/shoe+mod1.jpg" alt="My helpful..screenshot" /></p>

<p>While the electronics components and protocols used can be summarised by the following diagram:</p>

<p><img src="/images/schem-proj-01.png" alt="My helpful..screenshot" /></p>

<p>I builded a  new electronic boards specific for the final project, “pressboard” made from hello board, so the heart of the board is the ATtiny 44, wich three pins for the analog textile pressure sensor. I was programming it in C  and  using a serial communication to read the data of the sensor. The data is visualizing  in a first time by the http protocol to local host on the computer and in second time by bluetooth module on the smartphone.</p>

<h2 id="parts-case-and-the-diy-sensor">Parts, Case and the DIY sensor</h2>

<p><img src="/images/esole1.jpeg" alt="My helpful..screenshot" /></p>

<h3 id="computer-aided-design--shoe-and-module">computer aided design:  shoe and module</h3>
<p>I was modelling all the parts of the enclosure by Rhinoceros and Sketchup </p>

<p><img src="/images/rhino.jpeg" alt="My helpful..screenshot" /></p>

<p><img src="/images/shoe+mod2.jpeg" alt="My helpful..screenshot" /></p>

<p><img src="/images/I-cube-ali~2~.png" alt="My helpful..screenshot" /></p>

<h3 id="d-printing">3d printing</h3>

<p>The part of the packaging of the project is built with 3D printing and split in two parts: shoe and module,a little enclosure for the board and battery. Other parts don’t have any special requirements to be printed. Expect about 12 hours of printing to build the whole set at reasonable speed settings (i.e. 80mm/s). I used the WASP Delta 20x40. I made the insole in silicon rubber with a molding and casting technique, and the sensor with the velostat. </p>

<p>The components to be printed are:</p>

<ul>
  <li>enclosure-shoe <br />    </li>
  <li>case-module for electronics <br /></li>
</ul>

<p><img src="/images/esole-scarpa.jpeg" alt="My helpful..screenshot" /></p>

<p><img src="/images/molec.jpeg" alt="My helpful..screenshot" /></p>

<h3 id="molding-and-casting-the-insole">molding and casting: the insole</h3>

<p>The first step of the making process is to prepare the base of the smart insole by the molding and casting tecnique.
I prepared a mold cutting a wood panel.</p>

<p><img src="/images/laser insole.jpg" alt="My helpful..screenshot" /></p>

<p>I used the silicone-rubber of “Smooth on”, in part of 150 g of part A and 5% of part B</p>

<p><img src="/images/insole3.jpg" alt="My helpful..screenshot" /></p>

<p><img src="/images/insole4.jpg" alt="My helpful..screenshot" /></p>

<h3 id="computer-controlled-cutting-sticker-logo">computer controlled cutting: sticker logo</h3>

<p><img src="/images/vinyl-esole.png" alt="My helpful..screenshot" /></p>

<h3 id="input-device-analog-textile-pressure-sensor">Input device: analog textile pressure sensor</h3>

<p>I used Velostat/Linqstat (Carbon impregnated Polyethylene film ) and a conductive fabric to make an analog pressure sensor. 
Velostat is a piezoresistive material, meaning it’s electrical resistance decreases when pressure. It’s pressure-sensitive: squeezing it will reduce the resistance, so it’s handy for making flexible sensors. When sandwiched between two conductive layers, it has a wonderful range for making pressure and bend sensors. It can also be used for position sensing. </p>

<p><img src="/images/textile.jpg" alt="My helpful..screenshot" /></p>

<p>This analog press button works with resistive principle. It has a very high resistivity when not pressed, but its resistance goes down as soon as you press it. It works as a bend sensor as well.
By connecting more sensors together it is possible to make a matrix analog switch.</p>

<p><img src="/images/insole5.jpg" alt="My helpful..screenshot" /></p>

<p>The Analog textile pressbutton is a analog textile sensor that change his resistivity if you make pressure on it. It is useful for creating variable voltage divider that can be easily read by an Arduino.</p>

<p><img src="/images/insole-pressure.png" alt="My helpful..screenshot" /></p>

<h3 id="testing-the-sensor-with-arduino">testing the sensor with Arduino</h3>

<p>First I tested the sensor with lilypad arduino, then i tested it with my board.
There’s the code that I used:</p>

<pre><code>Int SensorPin = a5;    // Select the Input pin for the Sensor
Int LedPin = 13;      // Select the pin for the LED
Int SensorValue = 0;  // Variable to Store the Value Coming from the Sensor
  
Void Setup() {
  // Declare the LedPin as an OUTPUT:
  PinMode(LedPin, OUTPUT);
}
  
Void Loop() {
  // Read the Value from the Sensor:
  SensorValue = AnalogRead(SensorPin);
  // Turn the LedPin On
  DigitalWrite(LedPin, HIGH);
  // Stop the Program for &lt;SensorValue&gt; Milliseconds:
  Delay(SensorValue);
  // Turn the LedPin Off:
  DigitalWrite(LedPin, LOW);
  // Stop the Program for for &lt;SensorValue&gt; Milliseconds:
  Delay(SensorValue);
}
</code></pre>

<h2 id="electronic-design-press-board">electronic design: “press-board”</h2>

<p><img src="/images/pressboard.png" alt="My helpful..screenshot" /></p>

<p><img src="/images/board.jpg" alt="My helpful..screenshot" /></p>

<p>The software setup on the ATtiny44 can be easily done using the fabisp to program the Pressboard: </p>

<pre><code>make press.out
make press.hex
make program-usbtiny 
</code></pre>

<h2 id="networking">Networking</h2>

<p>Hc 05 Bluetooth module
## Interface and application: websocket
I used javascript</p>

<p>The WebSocket specification—developed as part of the HTML5 initiative—introduced the WebSocket JavaScript interface, which defines a full-duplex single socket connection over which messages can be sent between client and server. The WebSocket standard simplifies much of the complexity around bi-directional web communication and connection management.</p>

<pre><code>sudo pyton server. py which 
vi serial worker.py 
</code></pre>

<h2 id="downloads">Downloads</h2>

<h3 id="electronics">electronics</h3>

<p><a href="/files/week18/sensorPress-bordi.png"> Press </a><br /></p>

<p><a href="/files/week18/SensorPress-etching.png"> Press </a><br /></p>

<h3 id="software">software</h3>

<p><a href="/files/week18/makefile"> Press </a><br /></p>

<p><a href="/files/week18/press.c"> Press </a><br /></p>

<h3 id="vinyl-logo">vinyl logo</h3>

<p><a href="/files/week18/vinyllogo-esole.png"> code2 </a><br /></p>

<h3 id="d-printed-files">3d printed files</h3>

<p><a href="/files/week18/scarpa 12 con mol.3ds"> shoe+case </a><br /></p>

<p><a href="/files/week18/scarpa 12 con mol.3dm"> shoe+case </a><br /></p>

<p><a href="/files/week18/scarpa12.stl"> shoe+case </a><br /></p>


  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Francesca Mereu</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Francesca Mereu</li>
          <li><a href="mailto:martech.platform@gmail.com">martech.platform@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/mereufrance77">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">mereufrance77</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/M-Artech">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">M-Artech</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">This a FabAcademy 2015 website. There are all processes of my work, experiments,  prototypes..
</p>
      </div>
    </div>
 <p class="rss-subscribe">subscribe <a href=" /feed.xml">via RSS</a></p>
  </div>

</footer>


  </body>

</html>
